{"version":3,"file":"openloginJrpc.esm.js","sources":["../src/basePostMessageStream.ts","../src/safeEventEmitter.ts","../src/serializableError.ts","../src/jrpc.ts","../src/jrpcEngine.ts","../src/substream.ts","../src/mux.ts","../src/postMessageStream.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["noop","undefined","SYN","ACK","BRK","BasePostMessageStream","Duplex","constructor","name","target","targetWindow","window","targetOrigin","objectMode","Error","_init","_haveSyn","_name","_target","_targetWindow","_targetOrigin","_onMessage","onMessage","bind","_synIntervalId","addEventListener","_handShake","_break","cork","_write","_onData","data","uncork","push","err","emit","_postMessage","originConstraint","postMessage","event","message","origin","source","_read","_","cb","_destroy","removeEventListener","safeApply","handler","context","args","Reflect","apply","setTimeout","arrayClone","arr","n","length","copy","Array","i","SafeEventEmitter","EventEmitter","type","doError","events","_events","error","er","len","listeners","SerializableError","code","Number","isInteger","toString","stringify","stack","getRpcPromiseCallback","resolve","reject","unwrapResult","response","isArray","result","createErrorMiddleware","log","req","res","next","end","method","done","createStreamMiddleware","idMap","readNoop","processResponse","id","Object","assign","processNotification","processMessage","_encoding","isNotification","_err","stream","read","write","middleware","createScaffoldMiddleware","handlers","createIdRemapMiddleware","_end","originalId","newId","randomId","createLoggerMiddleware","logger","debug","createAsyncMiddleware","asyncMiddleware","resolveNextPromise","nextPromise","Promise","returnHandlerCallback","nextWasCalled","asyncNext","runReturnHandlersCallback","JRPCEngine","_middleware","_runAllMiddleware","middlewareStack","returnHandlers","isComplete","_runMiddleware","reverse","serializeError","returnHandler","_runReturnHandlers","_checkForCompletion","handle","_handleBatch","_handle","_promiseHandle","asMiddleware","middlewareError","handlerCallback","reqs","responses","all","map","callerReq","jsonrpc","_processRequest","_error","mergeMiddleware","engine","forEach","createEngineStream","opts","on","Substream","parent","_parent","chunk","callback","IGNORE_SUBSTREAM","Symbol","ObjectMultiplex","_substreams","createStream","substream","anyStreamEnd","destroy","ignoreStream","console","warn","_cb","once","eos","readable","writable","setupMultiplex","mux","getStream","streamHelper","pump","PostMessageStream","dataObj","dataObjData","params","dataObjDataParam","_origin","location"],"mappings":"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"}